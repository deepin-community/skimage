From: =?utf-8?q?Lars_Gr=C3=BCter?= <lagru@mailbox.org>
Date: Tue, 2 Jul 2024 19:01:21 +0200
Subject: Try np.can_cast based solution

URL: https://github.com/scikit-image/scikit-image/pull/7453
---
 skimage/morphology/misc.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/skimage/morphology/misc.py b/skimage/morphology/misc.py
index 72efe04..30d302c 100644
--- a/skimage/morphology/misc.py
+++ b/skimage/morphology/misc.py
@@ -401,7 +401,7 @@ def remove_objects_by_distance(
     inner_indices = inner_indices[np.argsort(out_raveled[inner_indices])]
 
     if priority is None:
-        if np.intp().itemsize < out.dtype.itemsize:
+        if not np.can_cast(out.dtype, np.intp, casting="safe"):
             # bincount expects intp (32-bit) on WASM or i386, so down-cast to that
             priority = np.bincount(out_raveled.astype(np.intp, copy=False))
         else:
